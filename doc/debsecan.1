.\" debsecan - Debian Security Analyzer
.\" Copyright (C) 2005 Florian Weimer
.\"
.\" This program is free software; you can redistribute it and/or modify
.\" it under the terms of the GNU General Public License as published by
.\" the Free Software Foundation; either version 2 of the License, or
.\" (at your option) any later version.
.\"
.\" This program is distributed in the hope that it will be useful,
.\" but WITHOUT ANY WARRANTY; without even the implied warranty of
.\" MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
.\" GNU General Public License for more details.
.\"
.\" You should have received a copy of the GNU General Public License
.\" along with this program; if not, write to the Free Software
.\" Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301 USA
.\"
.TH DEBSECAN 1 2005-12-23 "" ""
.SH NAME
debsecan \- Debian Security Analyzer
.SH SYNOPSIS
.B debsecan
.I options...
.SH DESCRIPTION
.B debsecan
analyzes the list of installed packages on the current host and
reports vulnerabilities found on the system.
.SH OPTIONS
.TP
.B --suite \fIcount\fP
Choose a specific suite.
.B debsecan
produces more informative output (including obsolete packages) if the
correct suite is specified.  The release code name has to be used
("sid"), not the temporal name ("unstable").
.TP
.B --source \fIurl\fP
Override the default download URL for vulnerability data.
.TP
.B --status \fIfile\fP
Evaluate a different
.B dpkg
status file.
.TP
.B --format \fIformat\fP
Change the output format.  If
.I format
is
.B summary
(the default), a short summary for each vulnerability is printed.
For
.B bugs
and
.BR packages ,
.B debsecan
lists the names of vulnerabilities and binary packages, respectively.
.B --format detail
requests a verbose output format, showing all available data.
The
.B report
format is used for email reports.
.TP
.B --mailto \fImailbox\fP
The
.B --mailto
option instructions
.B debsecan
to the send the report to the email address
.IR mailbox .
No report is sent if there where no changes since the last invocation
with
.BR --update-history .
This option requires the
.B --format report
output format.
.TP
.B --only-fixed
Only list vulnerabilities for which a fix is available in the archive.
Note that it can happen that a fix is listed, although the package has
not been built for the system's architecture and is not yet available
for download.  (If you use this option, you also must specify the
correct suite using
.BR --suite .)
.TP
.B --history \fIfile\fP
Change the name of the history file used by
.BR "--format report" .
.TP
.B --update-history
Update the vulnerability status information after reporting it using
.BR "--format report" .
.TP
.B --cron
Internal option used for invocations from
.BR cron .
Checks if the vulnerability data has already been downloaded today.
In this case, further processing is skipped.  See
.BR debsecan-create-cron (8)
for instructions how to create a suitable cron entry.
.TP
.B --help
Display a short help message and exit.
.TP
.B --version
Display version information and exit.
.SH "CAVEATS"
Much like the official Debian security advisories,
.BR debsecan 's
vulnerability tracking is mostly based on source packages.  This can
be confusing because tools like
.B dpkg
only display binary package names.  Therefore,
.B debsecan
displays the more familiar binary package names.  This has the
unfortunate effect that all binary packages (including packages
containing only documentation, for example) are flagged as vulnerable,
and not only those packages which actually contain the vulnerable
code.
.P
If
the correct
.B --suite
option is specified,
.B debsecan
may mark some packages as
.BR obsolete .
This means that the binary package in question has been removed from
the archive.  In this case, you need to update all the packages
depending on the obsolete package, and subsequently remove the
obsolete pacakge.
.P
For certain architectures, build daemons may lag considerably.  In
such case,
.B debsecan
may incorrectly mark a package as fixed, even if an update is not yet
available in the Debian archive.
.P
Note that
.B debsecan
version uses the
.B --suite
option only to determine the availability of corrected packages and to
detect obsolete packages.  If you specify the wrong suite, only the
information on available security updates and obsolete packages is
wrong, but the list of vulnerabilities is correct.
.P
Mixing packages from different Debian
releases is supported, as long as the packages still carry their
official version numbers.  Unknown package versions (from backported
packages, for example) are compared to the version in Debian unstable
only, which may lead to incorrect reports.
.SH EXAMPLES
This command prints all package names for which security fixes are
available:
.IP
.B debsecan --suite
.I suite
.B --format packages --only-fixed
.PP
If you pass this output to
.BR apt-get ,
you can download new packages which contain security fixes.  For example,
if you are running sid:
.IP
.PD 0
.B apt-get install \e
.IP "" 1in
.B $(debsecan --suite sid --format packages --only-fixed)
.PD
.PP
The following command can be invoked periodically, to get
notifications of new security issues:
.IP
.PD 0
.B debsecan --suite
.I suite
.B --format report \e
.IP "" 1in
.B --update-history --mailto root
.PP
See
.BR debsecan-create-cron (8)
for a tool which creates a suitable cron entry.
.SH AUTHOR
.B debsecan
was written by Florian Weimer.
.SH "SEE ALSO"
.BR dpkg "(1),"
.BR debsecan-create-cron "(8),"
.BR apt-get "(8)"
