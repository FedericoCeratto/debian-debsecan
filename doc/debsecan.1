.\" debsecan - Debian Security Analyzer
.\" Copyright (C) 2005 Florian Weimer
.\"
.\" This program is free software; you can redistribute it and/or modify
.\" it under the terms of the GNU General Public License as published by
.\" the Free Software Foundation; either version 2 of the License, or
.\" (at your option) any later version.
.\"
.\" This program is distributed in the hope that it will be useful,
.\" but WITHOUT ANY WARRANTY; without even the implied warranty of
.\" MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
.\" GNU General Public License for more details.
.\"
.\" You should have received a copy of the GNU General Public License
.\" along with this program; if not, write to the Free Software
.\" Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301 USA
.\"
.TH DEBSECAN 1 2005-12-14 "" ""
.SH NAME
debsecan \- Debian Security Analyzer
.SH SYNOPSIS
.B debsecan
.B --suite
.I suite
.I options...
.SH DESCRIPTION
.B debsecan
analyzes the list of installed packages on the current host and
reports vulnerabilities found on the system.
.SH OPTIONS
.TP
.B --suite \fIcount\fP
This mandatory option tells
.B debsecan
which Debian suite (release) should be used.  The release code name
has to be used ("sid"), not the temporal name ("unstable").  Due to
the way
.B debsecan
works, the correct suite must be specified, otherwise the results are
incorrect.  See
.SM
.B CAVEATS
below for details.
.TP
.B --source \fIurl\fP
Override the default download URL for vulnerability data.
.B --status \fIfile\fP
Evaluate a different
.B dpkg
status file.
.TP
.B --format \fIformat\fP
Change the output format.  If
.I format
is
.B summary
(the default), a short summary for each vulnerability is printed.
For
.B bugs
and
.BR packages ,
.B debsecan
lists the names of vulnerabilities and binary packages, respectively.
.B --format detail
requests a verbose output format, showing all available data.
The
.B report
format is used for email reports.
.TP
.B --mailto \fImailbox\fP
The
.B --mailto
option instructions
.B debsecan
to the send the report to the email address
.IR mailbox .
No report is sent if there where no changes since the last invocation
with
.BR --update-history .
This option requires the
.B --format report
output format.
.TP
.B --only-fixed
Only list vulnerabilities for which a fix is available in the archive.
Note that it can happen that a fix is listed, although the package has
not been built for the system's architecture and is not yet available
for download.
.TP
.B --history \fIfile\fP
Change the name of the history file used by
.BR "--format report" .
.TP
.B --update-history
Update the vulnerability status information after reporting it using
.BR "--format report" .
.TP
.B --cron
Internal option used for invocations from
.BR cron .
Checks if the vulnerability data has already been downloaded today.
In this case, further processing is skipped.
.TP
.B --help
Display a short help message and exit.
.TP
.B --version
Display version information and exit.
.SH "CAVEATS"
Versions of Debian packages which are part of different releases are
not comparable in the sense that the comparison yields useful
information.  For example, all packages in the stable suite have
versions which are not greater than the version in unstable.  This is
true even if a security update has been applied to the stable suite.
In this case, the simple version-based algorithm used by
.B debsecan
would incorrectly flag the vulnerable package version from unstable as
fixed when vulnerability data for the stable suite is used to rate the
system.
.P
This is the reason why Debian installations which mix packages from
multiple releases
.B "are not supported" .
If in doubt, specify
.B --release sid
when invoking
.BR debsecan .
This will result in some false positives, but not in false negatives.
.SH EXAMPLES
This command prints all package names for which security fixes are
available:
.IP
.B debsecan --suite
.I suite
.B --format packages --only-fixed
.PP
If you pass this output to
.BR apt-get ,
you can download new packages which contain security fixes.  For example,
if you are running sid:
.IP
.PD 0
.B apt-get install \e
.IP "" 1in
.B $(debsecan --suite sid --format packages --only-fixed)
.PD
.PP
The following command can be invoked periodically, to get
notifications of new security issues:
.IP
.PD 0
.B debsecan --suite
.I suite
.B --format report \e
.IP "" 1in
.B --update-history --mailto root
.SH AUTHOR
.B debsecan
was written by Florian Weimer.
.SH "SEE ALSO"
.BR dpkg "(1),"
.BR apt-get "(8)"
